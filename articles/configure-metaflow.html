<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Configuring Metaflow • metaflow</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Configuring Metaflow">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metaflow</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://metaflow.org">Metaflow Documentation</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bcgalvin/metaflow-r"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Configuring Metaflow</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bcgalvin/metaflow-r/blob/main/vignettes/configure-metaflow.Rmd" class="external-link"><code>vignettes/configure-metaflow.Rmd</code></a></small>
      <div class="d-none name"><code>configure-metaflow.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette guides you through the process of configuring Metaflow
using the R package. Metaflow uses configuration profiles to manage
different settings for various environments or use cases. This document
will explain how to list, view, and update these profiles, as well as
provide context on Metaflow configuration.</p>
</div>
<div class="section level2">
<h2 id="metaflow-configuration-overview">Metaflow Configuration Overview<a class="anchor" aria-label="anchor" href="#metaflow-configuration-overview"></a>
</h2>
<p>Metaflow configuration is managed through JSON files, typically
located in the <code>~/.metaflowconfig/</code> directory. These
configuration files allow you to customize various aspects of Metaflow’s
behavior, including:</p>
<ul>
<li>Execution environment (local, AWS, Kubernetes)</li>
<li>Data store settings</li>
<li>Metadata service configuration</li>
<li>Monitoring and logging preferences</li>
</ul>
<p>The configuration is hierarchical, with values defined at a more
specific level overriding more general settings.</p>
</div>
<div class="section level2">
<h2 id="listing-profiles">Listing Profiles<a class="anchor" aria-label="anchor" href="#listing-profiles"></a>
</h2>
<p>To view all available Metaflow profiles, use the
<code><a href="../reference/list_profiles.html">list_profiles()</a></code> function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://metaflow.org/" class="external-link">metaflow</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/list_profiles.html">list_profiles</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This function returns a tibble with two columns: -
<code>profile_name</code>: The name of the profile - <code>path</code>:
The full path to the profile’s JSON configuration file</p>
</div>
<div class="section level2">
<h2 id="viewing-the-active-profile">Viewing the Active Profile<a class="anchor" aria-label="anchor" href="#viewing-the-active-profile"></a>
</h2>
<p>To see which profile is currently active and its contents, use the
<code><a href="../reference/get_active_profile.html">get_active_profile()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_active_profile.html">get_active_profile</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This function returns a list with three elements: -
<code>name</code>: The name of the active profile - <code>path</code>:
The full path to the active profile’s JSON configuration file -
<code>values</code>: The contents of the profile as a list</p>
<p>If no profile is active, a warning will be displayed, and the
function will return <code>NULL</code>.</p>
</div>
<div class="section level2">
<h2 id="updating-the-active-profile">Updating the Active Profile<a class="anchor" aria-label="anchor" href="#updating-the-active-profile"></a>
</h2>
<p>To change the active profile, use the <code><a href="../reference/update_profile.html">update_profile()</a></code>
function. You can update by name or by path:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Update by name</span></span>
<span><span class="fu"><a href="../reference/update_profile.html">update_profile</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"aws"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Update by path</span></span>
<span><span class="fu"><a href="../reference/update_profile.html">update_profile</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"~/.metaflowconfig/config_aws.json"</span><span class="op">)</span></span></code></pre></div>
<p>This function will update the active profile and return the contents
of the new profile invisibly.</p>
</div>
<div class="section level2">
<h2 id="working-with-metaflow-home-directory">Working with Metaflow Home Directory<a class="anchor" aria-label="anchor" href="#working-with-metaflow-home-directory"></a>
</h2>
<p>Metaflow uses a home directory to store configuration files. By
default, this is <code>~/.metaflowconfig/</code>, but it can be
overridden using the <code>METAFLOW_HOME</code> environment
variable.</p>
<p>To get the current Metaflow home directory:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">metaflow</span><span class="fu">:::</span><span class="fu"><a href="../reference/get_metaflow_home.html">get_metaflow_home</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This function will return the path to the Metaflow home directory, or
<code>NULL</code> if no valid directory is found.</p>
</div>
<div class="section level2">
<h2 id="configuration-hierarchy">Configuration Hierarchy<a class="anchor" aria-label="anchor" href="#configuration-hierarchy"></a>
</h2>
<p>Metaflow configuration follows a hierarchical structure:</p>
<ol style="list-style-type: decimal">
<li>Built-in defaults</li>
<li><code>~/.metaflowconfig/config.json</code></li>
<li><code>~/.metaflowconfig/config_&lt;PROFILE&gt;.json</code></li>
<li>Environment variables</li>
<li>Command line arguments</li>
</ol>
<p>Each level overrides the previous ones, allowing for flexible
configuration management.</p>
<hr>
<p>These functions provide a comprehensive way to manage Metaflow
configurations in R. By using these tools, you can easily switch between
different Metaflow setups for various environments or projects.</p>
<p>For more detailed information on each function, you can use the R
help system:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">list_profiles</span></span>
<span><span class="op">?</span><span class="va">get_active_profile</span></span>
<span><span class="op">?</span><span class="va">update_profile</span></span></code></pre></div>
<p>Remember that proper configuration is crucial for Metaflow to work
correctly in different environments. Always ensure that your active
profile matches your current needs and environment setup.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bryan Galvin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
